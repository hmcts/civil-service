const {I} = inject();

module.exports = {

  fields: function (party) {
    return {
      vulnerabilityAdjustmentsRequired: {
        id: `#${party}DQVulnerabilityQuestions_vulnerabilityAdjustmentsRequired`,
        options: {
          yes: 'Yes',
          no: 'No'
        }
      },
      vulnerabilityAdjustments: `#${party}DQVulnerabilityQuestions_vulnerabilityAdjustments`
    };
  },

  async vulnerabilityQuestions(party) {
    I.waitForElement(this.fields(party).vulnerabilityAdjustmentsRequired.id);
    await I.runAccessibilityTest();

    await within(this.fields(party).vulnerabilityAdjustmentsRequired.id, () => {
      I.click(this.fields(party).vulnerabilityAdjustmentsRequired.options.yes);
    });

    I.fillField(this.fields(party).vulnerabilityAdjustments, 'Reason for not adjustment');

    await I.clickContinue();
  },
};
